<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="icia.kotlin.mapper.MapperInterface">
	<!-- member 확인 sql -->
	<select id="isMember" resultType="int">
		SELECT COUNT(*) FROM ST WHERE ST_ID = #{mId}
	</select>
	
	<!-- id, pwd 확인 sql -->
	<select id="isAccess" resultType="int">
		SELECT COUNT(*) FROM ST WHERE ST_ID = #{mId} AND ST_PASSWORD = #{mPwd}
	</select>
	
	<!-- id, name, phone 정보 가져오기 sql -->
	<select id="getMemberInfo" resultType="icia.kotlin.bean.Member">
		SELECT ST_ID AS mId, ST_NAME AS mName, ST_PHONE AS mPhone FROM ST WHERE ST_ID = #{mId} AND ST_PASSWORD = #{mPwd}
	</select>
	
	<!-- Customer 정보 insert하기 sql -->
	<insert id="insCustomer">
		INSERT INTO ST(ST_ID, ST_NAME, ST_PASSWORD, ST_PHONE) VALUES (#{mId}, #{mName}, #{mPwd}, #{mPhone})
	</insert>
	
	<!-- Movie 정보 insert하기 sql -->
	<insert id="insMovie">
		INSERT INTO MV(MV_CODE, MV_NAME, MV_GRADE, MV_STATUS, MV_IMAGE, MV_COMMENTS) VALUES (#{mvCode}, #{mvName}, #{mvGrade}, #{mvStatus}, #{mvImage}, #{mvComments})
	</insert>
</mapper>